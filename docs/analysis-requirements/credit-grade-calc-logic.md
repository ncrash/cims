# 신용등급 산출 로직

## 신용등급 산출 로직 테스트용 샘플 데이터

```sql
-- 고객 데이터
INSERT INTO customers (id, name, birth_date, email, phone_number, credit_grade, credit_grade_updated_at, created_at, updated_at, deleted) 
VALUES 
(1, '김신용', '1990-01-15', 'kim@test.com', '010-1234-5678', 'GRADE_007', '2024-12-24 00:00:00', '2024-12-24 00:00:00', '2024-12-24 00:00:00', 0),
(2, '이연체', '1985-05-20', 'lee@test.com', '010-2345-6789', 'GRADE_005', '2024-12-24 00:00:00', '2024-12-24 00:00:00', '2024-12-24 00:00:00', 0),
(3, '박우수', '1995-12-10', 'park@test.com', '010-3456-7890', 'GRADE_009', '2024-12-24 00:00:00', '2024-12-24 00:00:00', '2024-12-24 00:00:00', 0);

-- 신용 거래 데이터
INSERT INTO credit_transactions (customer_id, type, amount, status, created_at, updated_at, deleted, version) 
VALUES 
-- 김신용의 거래 내역 (기본 신용등급 유지 케이스)
(1, 'LOAN', 5000000, 'PAID', '2024-01-15 10:00:00', '2024-01-15 10:00:00', 0, 0),
(1, 'CREDIT_CARD', 1000000, 'PAID', '2024-02-15 14:30:00', '2024-02-15 14:30:00', 0, 0),
(1, 'INSTALLMENT', 2000000, 'PAID', '2024-03-01 09:15:00', '2024-03-01 09:15:00', 0, 0),

-- 이연체의 거래 내역 (신용등급 하락 케이스)
(2, 'LOAN', 10000000, 'DELAYED', '2024-01-10 11:20:00', '2024-01-10 11:20:00', 0, 0),
(2, 'CREDIT_CARD', 3000000, 'DELAYED', '2024-02-01 16:45:00', '2024-02-01 16:45:00', 0, 0),
(2, 'INSTALLMENT', 5000000, 'DELAYED', '2024-03-05 13:30:00', '2024-03-05 13:30:00', 0, 0),

-- 박우수의 거래 내역 (신용등급 상승 케이스)
(3, 'LOAN', 50000000, 'PAID', '2024-01-20 09:00:00', '2024-01-20 09:00:00', 0, 0),
(3, 'CREDIT_CARD', 8000000, 'PAID', '2024-02-10 15:20:00', '2024-02-10 15:20:00', 0, 0),
(3, 'INSTALLMENT', 15000000, 'PAID', '2024-03-10 10:45:00', '2024-03-10 10:45:00', 0, 0);
```

## 테스트 시나리오

1. **김신용 (기본 케이스)**
    - 기본 신용등급: 7등급
    - 모든 거래 정상 상환
    - 예상 결과: 신용등급 유지 또는 소폭 상승

2. **이연체 (신용등급 하락 케이스)**
    - 시작 신용등급: 5등급
    - 3회 연체 기록
    - 예상 결과: 5등급 이하로 하락

3. **박우수 (신용등급 상승 케이스)**
    - 시작 신용등급: 9등급
    - 고액 거래 모두 정상 상환
    - 예상 결과: 높은 신용등급 유지

## 테스트 목표
- 연체 횟수에 따른 신용등급 변동
- 거래금액 규모에 따른 가산점 효과
- 정상 상환 이력에 따른 신용등급 변동
